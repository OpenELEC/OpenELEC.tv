#!/bin/sh

################################################################################
#      This file is part of OpenELEC - http://www.openelec.tv
#      Copyright (C) 2009-2011 Stephan Raue (stephan@openelec.tv)
#
#  This Program is free software; you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2, or (at your option)
#  any later version.
#
#  This Program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
#  GNU General Public License for more details.
#
#  You should have received a copy of the GNU General Public License
#  along with OpenELEC.tv; see the file COPYING.  If not, write to
#  the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.
#  http://www.gnu.org/copyleft/gpl.html
################################################################################

. config/options $1

PYTHON_VERSION=2.6
PYTHON_LIB_DIR=$INSTALL/usr/lib/python$PYTHON_VERSION

mkdir -p $INSTALL/usr/bin
  cp $PKG_BUILD/.objdir-target/python $INSTALL/usr/bin/

mkdir -p $INSTALL/usr/lib
  cp -PR $PKG_BUILD/.objdir-target/libpython2.6.so.1.0 $INSTALL/usr/lib/
  ln -sf libpython2.6.so.1.0 $INSTALL/usr/lib/libpython2.6.so

mkdir -p $PYTHON_LIB_DIR/lib-dynload
  cp $PKG_BUILD/.objdir-target/build/lib*/*.so $PYTHON_LIB_DIR/lib-dynload

  cp $PKG_BUILD/Lib/*.py $PYTHON_LIB_DIR

mkdir -p $PYTHON_LIB_DIR/plat-linux2
  cp $PKG_BUILD/Lib/plat-linux2/* $PYTHON_LIB_DIR/plat-linux2

mkdir -p $PYTHON_LIB_DIR/json
  cp $PKG_BUILD/Lib/json/*.py $PYTHON_LIB_DIR/json

mkdir -p $PYTHON_LIB_DIR/xml
  cp $PKG_BUILD/Lib/xml/*.py $PYTHON_LIB_DIR/xml

mkdir -p $PYTHON_LIB_DIR/xml/dom
  cp $PKG_BUILD/Lib/xml/dom/*.py $PYTHON_LIB_DIR/xml/dom

mkdir -p $PYTHON_LIB_DIR/xml/parsers
  cp $PKG_BUILD/Lib/xml/parsers/*.py $PYTHON_LIB_DIR/xml/parsers

mkdir -p $PYTHON_LIB_DIR/xml/sax
  cp $PKG_BUILD/Lib/xml/sax/*.py $PYTHON_LIB_DIR/xml/sax

mkdir -p $PYTHON_LIB_DIR/encodings
  cp $PKG_BUILD/Lib/encodings/*.py $PYTHON_LIB_DIR/encodings

mkdir -p $PYTHON_LIB_DIR/logging
  cp $PKG_BUILD/Lib/logging/*.py $PYTHON_LIB_DIR/logging

mkdir -p $PYTHON_LIB_DIR/distutils
  cp $PKG_BUILD/Lib/distutils/*.py $PYTHON_LIB_DIR/distutils

mkdir -p $PYTHON_LIB_DIR/distutils/command
  cp $PKG_BUILD/Lib/distutils/command/*.py $PYTHON_LIB_DIR/distutils/command

# For future 3rd-parties Python modules
mkdir -p $PYTHON_LIB_DIR/site-packages

### for test ###

#mkdir -p $PYTHON_LIB_DIR/bsddb
#  cp $PKG_BUILD/Lib/bsddb/*.py $PYTHON_LIB_DIR/bsddb

mkdir -p $PYTHON_LIB_DIR/compiler
  cp $PKG_BUILD/Lib/compiler/*.py $PYTHON_LIB_DIR/compiler

mkdir -p $PYTHON_LIB_DIR/ctypes
  cp $PKG_BUILD/Lib/ctypes/*.py $PYTHON_LIB_DIR/ctypes

mkdir -p $PYTHON_LIB_DIR/ctypes/macholib
  cp $PKG_BUILD/Lib/ctypes/macholib/*.py $PYTHON_LIB_DIR/ctypes/macholib

#mkdir -p $PYTHON_LIB_DIR/curses
#  cp $PKG_BUILD/Lib/curses/*.py $PYTHON_LIB_DIR/curses

mkdir -p $PYTHON_LIB_DIR/email
  cp $PKG_BUILD/Lib/email/*.py $PYTHON_LIB_DIR/email

mkdir -p $PYTHON_LIB_DIR/email/mime
  cp $PKG_BUILD/Lib/email/mime/*.py $PYTHON_LIB_DIR/email/mime

mkdir -p $PYTHON_LIB_DIR/hotshot
  cp $PKG_BUILD/Lib/hotshot/*.py $PYTHON_LIB_DIR/hotshot

mkdir -p $PYTHON_LIB_DIR/idlelib
  cp $PKG_BUILD/Lib/idlelib/*.py $PYTHON_LIB_DIR/idlelib

#mkdir -p $PYTHON_LIB_DIR/lib-tk
#  cp $PKG_BUILD/Lib/lib-tk/*.py $PYTHON_LIB_DIR/lib-tk

#mkdir -p $PYTHON_LIB_DIR/msilib
#  cp $PKG_BUILD/Lib/msilib/*.py $PYTHON_LIB_DIR/msilib

mkdir -p $PYTHON_LIB_DIR/multiprocessing
  cp $PKG_BUILD/Lib/multiprocessing/*.py $PYTHON_LIB_DIR/multiprocessing

# not needed, we have pysqlite2
mkdir -p $PYTHON_LIB_DIR/sqlite3
  cp $PKG_BUILD/Lib/sqlite3/*.py $PYTHON_LIB_DIR/sqlite3

#mkdir -p $PYTHON_LIB_DIR/wsgiref
#  cp $PKG_BUILD/Lib/wsgiref/*.py $PYTHON_LIB_DIR/wsgiref

mkdir -p $PYTHON_LIB_DIR/xml/etree
  cp $PKG_BUILD/Lib/xml/etree/*.py $PYTHON_LIB_DIR/xml/etree
